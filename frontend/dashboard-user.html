<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SmartFold â€” Customer Portal</title>
  <link rel="stylesheet" href="/frontend/style.css" />
</head>
<body>
  <style>
    /* If these selectors exist, hide the legacy order card */
    .legacy-place-order, #newOrderCard, [data-legacy-order-form] { display:none !important; }
  </style>
  <header class="navbar">
    <div style="display:flex; align-items:center; gap:16px;">
      <h1 style="font-size:1.5rem;">SmartFold</h1>
      <nav style="display:flex; gap:12px;">
        <a href="#orders" class="primary-btn" style="display:inline-flex; align-items:center; gap:8px;">My Orders</a>
        <a href="#messages" class="primary-btn" style="display:inline-flex; align-items:center; gap:8px;">Messages</a>
        <a href="#placeOrderMount" class="primary-btn" style="display:inline-flex; align-items:center; gap:8px;">Place Order</a>
      </nav>
    </div>
    <button id="logout-user" class="primary-btn">Logout</button>
  </header>

  <main style="padding:32px; max-width:1200px; margin:0 auto;">
    <section id="placeOrderMount"></section>

    <section class="card" id="orders">
      <h2 class="card-title">My Orders</h2>
      <div class="table-wrapper">
        <table>
          <thead>
            <tr>
              <th>ID</th>
              <th>Service</th>
              <th>Quantity</th>
              <th>Price (LKR)</th>
              <th>Status</th>
              <th>Pickup</th>
              <th>Delivery</th>
            </tr>
          </thead>
          <tbody id="user-orders-body"></tbody>
        </table>
      </div>
    </section>

    <section class="card" id="messages">
      <h2 class="card-title">Messages with SmartFold Admin</h2>
      <div class="message-thread">
        <div class="message-list" id="user-message-list"></div>
        <form id="user-message-form" style="display:flex; gap:12px;">
          <input type="text" id="user-message-input" placeholder="Write a message" required />
          <button type="submit" class="primary-btn">Send</button>
        </form>
      </div>
    </section>
  </main>

  <script type="module" src="/frontend/user.js"></script>
</body>
</html>
